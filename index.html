<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeltaPro | Enterprise Workspace</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
                extend: {
                    colors: {
                        background: '#09090b',
                        surface: '#18181b',
                        surfaceHighlight: '#27272a',
                        border: '#27272a',
                        primary: '#3b82f6',
                        primaryDim: 'rgba(59, 130, 246, 0.1)'
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #09090b; color: #e4e4e7; }
        .glass { background: rgba(24, 24, 27, 0.7); backdrop-filter: blur(8px); }
        .sidebar-link.active { background: #27272a; color: white; border-right: 2px solid #3b82f6; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #09090b; }
        ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3f3f46; }

        /* Command Palette Animation */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.1s ease-out; }
    </style>
</head>
<body class="h-screen flex overflow-hidden text-sm">

    <aside class="w-64 border-r border-border bg-surface flex flex-col z-20">
        <div class="h-14 flex items-center gap-3 px-4 border-b border-border">
            <div class="w-6 h-6 bg-primary rounded flex items-center justify-center text-white text-xs font-bold">D</div>
            <span class="font-bold tracking-tight text-white">DeltaPro <span class="text-[10px] text-zinc-500 font-normal">ENT</span></span>
        </div>

        <div class="p-3">
            <div class="mb-4">
                <div class="text-[10px] font-bold text-zinc-500 uppercase tracking-wider mb-2 px-2">Platform</div>
                <button onclick="App.navigate('dashboard')" class="sidebar-link active w-full text-left px-3 py-2 rounded-md text-zinc-400 hover:text-white hover:bg-surfaceHighlight transition flex items-center gap-3">
                    <i class="fa-solid fa-chart-pie w-4"></i> Dashboard
                </button>
                <button onclick="App.navigate('directory')" class="sidebar-link w-full text-left px-3 py-2 rounded-md text-zinc-400 hover:text-white hover:bg-surfaceHighlight transition flex items-center gap-3">
                    <i class="fa-solid fa-users w-4"></i> Talent Directory
                </button>
                <button onclick="App.navigate('inference')" class="sidebar-link w-full text-left px-3 py-2 rounded-md text-zinc-400 hover:text-white hover:bg-surfaceHighlight transition flex items-center gap-3">
                    <i class="fa-solid fa-microchip w-4"></i> AI Inference
                </button>
            </div>

            <div class="mb-4">
                <div class="text-[10px] font-bold text-zinc-500 uppercase tracking-wider mb-2 px-2">Configuration</div>
                <button onclick="App.navigate('integrations')" class="sidebar-link w-full text-left px-3 py-2 rounded-md text-zinc-400 hover:text-white hover:bg-surfaceHighlight transition flex items-center gap-3">
                    <i class="fa-solid fa-plug w-4"></i> Integrations
                </button>
                <button onclick="App.navigate('settings')" class="sidebar-link w-full text-left px-3 py-2 rounded-md text-zinc-400 hover:text-white hover:bg-surfaceHighlight transition flex items-center gap-3">
                    <i class="fa-solid fa-cog w-4"></i> Settings
                </button>
            </div>
        </div>

        <div class="mt-auto p-4 border-t border-border">
            <div class="flex items-center gap-3">
                <img src="https://ui-avatars.com/api/?name=Admin+User&background=27272a&color=fff" class="w-8 h-8 rounded-full border border-zinc-600">
                <div class="flex-1 min-w-0">
                    <div class="text-xs font-medium text-white truncate">sysadmin@zaziza.com</div>
                    <div class="text-[10px] text-zinc-500">Global Admin</div>
                </div>
            </div>
        </div>
    </aside>

    <main class="flex-1 flex flex-col relative bg-background">
        
        <header class="h-14 border-b border-border flex items-center justify-between px-6 bg-background/50 backdrop-blur sticky top-0 z-10">
            <div class="flex items-center gap-4 text-zinc-400">
                <span id="page-title" class="font-medium text-white">Dashboard</span>
            </div>
            <div class="flex items-center gap-4">
                <button onclick="Palette.toggle()" class="hidden md:flex items-center gap-2 px-3 py-1.5 bg-surface border border-border rounded text-xs text-zinc-400 hover:border-zinc-500 transition">
                    <span>Search or jump to...</span>
                    <kbd class="font-mono bg-zinc-800 px-1 rounded text-[10px] border border-zinc-700">Ctrl K</kbd>
                </button>
                <button class="w-8 h-8 flex items-center justify-center text-zinc-400 hover:text-white relative">
                    <i class="fa-regular fa-bell"></i>
                    <span class="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"></span>
                </button>
            </div>
        </header>

        <div id="app-view" class="flex-1 overflow-y-auto p-8">
            </div>

    </main>

    <div id="cmd-palette" class="hidden fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-start justify-center pt-[20vh]" onclick="Palette.toggle()">
        <div class="w-full max-w-lg bg-surface border border-border rounded-xl shadow-2xl overflow-hidden modal-enter-active" onclick="event.stopPropagation()">
            <div class="flex items-center px-4 border-b border-border">
                <i class="fa-solid fa-search text-zinc-500 mr-3"></i>
                <input type="text" placeholder="Type a command or search..." class="w-full h-12 bg-transparent border-none focus:ring-0 text-white placeholder-zinc-500 outline-none">
                <kbd class="font-mono text-[10px] text-zinc-500 bg-zinc-800 px-1.5 py-0.5 rounded border border-zinc-700">ESC</kbd>
            </div>
            <div class="py-2">
                <div class="px-4 py-2 text-[10px] font-bold text-zinc-500 uppercase">Suggestions</div>
                <button onclick="App.navigate('inference'); Palette.toggle()" class="w-full text-left px-4 py-2 text-zinc-300 hover:bg-primary hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-plus w-3"></i> New Talent Analysis
                </button>
                <button onclick="App.navigate('directory'); Palette.toggle()" class="w-full text-left px-4 py-2 text-zinc-300 hover:bg-primary hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-user-group w-3"></i> Search Directory
                </button>
            </div>
            <div class="bg-zinc-900 px-4 py-2 text-[10px] text-zinc-500 flex justify-between">
                <span>DeltaPro Intelligence Engine v2.1.0</span>
                <span>Zaziza Holdings</span>
            </div>
        </div>
    </div>

    <script>
        // --- 1. MOCK DATA LAYER (The "Database") ---
        const DB = {
            users: Array.from({ length: 25 }, (_, i) => ({
                id: `EMP-${1000 + i}`,
                name: ['Sarah Connor', 'John Smith', 'Wei Chen', 'Amara Okafor', 'Elena Vost'][i % 5] + ` ${i}`,
                role: ['Frontend Dev', 'Backend Lead', 'Data Scientist', 'DevOps Eng', 'Product Mgr'][i % 5],
                dept: ['Engineering', 'Platform', 'AI Research', 'Ops', 'Product'][i % 5],
                riskScore: Math.floor(Math.random() * 100),
                lastActive: `${Math.floor(Math.random() * 24)}h ago`
            })),
            logs: [
                { action: "API Key Created", user: "Admin", time: "2m ago" },
                { action: "Integration Sync (Workday)", status: "Success", time: "15m ago" },
                { action: "Talent Analysis #4022", status: "Complete", time: "1h ago" }
            ]
        };

        // --- 2. COMPONENTS & VIEWS ---
        const Views = {
            dashboard: () => `
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-surface border border-border p-5 rounded-lg">
                        <div class="text-zinc-500 text-xs font-medium uppercase mb-2">Total Headcount</div>
                        <div class="text-3xl font-bold text-white">1,240</div>
                        <div class="flex items-center gap-2 mt-2 text-xs text-green-500"><i class="fa-solid fa-arrow-up"></i> 12% vs last Q</div>
                    </div>
                    <div class="bg-surface border border-border p-5 rounded-lg">
                        <div class="text-zinc-500 text-xs font-medium uppercase mb-2">Critical Flight Risks</div>
                        <div class="text-3xl font-bold text-white">42</div>
                        <div class="flex items-center gap-2 mt-2 text-xs text-red-500"><i class="fa-solid fa-circle-exclamation"></i> Action Required</div>
                    </div>
                    <div class="bg-surface border border-border p-5 rounded-lg">
                        <div class="text-zinc-500 text-xs font-medium uppercase mb-2">Skill Gaps (Org)</div>
                        <div class="text-3xl font-bold text-white">18%</div>
                        <div class="flex items-center gap-2 mt-2 text-xs text-zinc-500">Avg. Deficiency</div>
                    </div>
                    <div class="bg-surface border border-border p-5 rounded-lg">
                        <div class="text-zinc-500 text-xs font-medium uppercase mb-2">System Health</div>
                        <div class="text-3xl font-bold text-green-400">99.9%</div>
                        <div class="flex items-center gap-2 mt-2 text-xs text-zinc-500">API Latency: 42ms</div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 bg-surface border border-border p-6 rounded-lg">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="font-medium text-white">Workforce Skill Velocity</h3>
                            <select class="bg-zinc-900 border border-zinc-700 text-xs rounded px-2 py-1 text-zinc-400">
                                <option>Last 6 Months</option>
                                <option>Year to Date</option>
                            </select>
                        </div>
                        <div class="h-64"><canvas id="mainChart"></canvas></div>
                    </div>

                    <div class="bg-surface border border-border p-6 rounded-lg flex flex-col">
                        <h3 class="font-medium text-white mb-4">System Events</h3>
                        <div class="flex-1 overflow-y-auto space-y-4">
                            ${DB.logs.map(log => `
                                <div class="flex gap-3 text-sm">
                                    <div class="w-2 h-2 mt-1.5 rounded-full bg-zinc-600"></div>
                                    <div>
                                        <div class="text-zinc-300">${log.action}</div>
                                        <div class="text-xs text-zinc-500">${log.user || log.status} â€¢ ${log.time}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <button class="mt-4 w-full py-2 text-xs text-zinc-500 border border-zinc-700 rounded hover:bg-zinc-800 transition">View All Logs</button>
                    </div>
                </div>
            `,

            directory: () => `
                <div class="flex justify-between items-center mb-6">
                    <div class="flex gap-2">
                        <input type="text" placeholder="Search employees..." class="bg-surface border border-border rounded-lg px-4 py-2 text-sm text-white w-64 focus:border-primary outline-none">
                        <button class="px-4 py-2 bg-surface border border-border rounded-lg text-zinc-400 hover:text-white text-sm"><i class="fa-solid fa-filter mr-2"></i> Filter</button>
                    </div>
                    <button class="px-4 py-2 bg-primary hover:bg-blue-600 text-white text-sm font-medium rounded-lg transition shadow-lg shadow-blue-900/20">
                        <i class="fa-solid fa-plus mr-2"></i> Add Talent
                    </button>
                </div>

                <div class="bg-surface border border-border rounded-lg overflow-hidden">
                    <table class="w-full text-left">
                        <thead class="bg-zinc-900/50 text-xs font-medium text-zinc-500 uppercase">
                            <tr>
                                <th class="px-6 py-3">Employee</th>
                                <th class="px-6 py-3">Role</th>
                                <th class="px-6 py-3">Department</th>
                                <th class="px-6 py-3">Retention Risk</th>
                                <th class="px-6 py-3">Status</th>
                                <th class="px-6 py-3"></th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-border text-sm">
                            ${DB.users.map(u => `
                                <tr class="hover:bg-zinc-800/50 transition group">
                                    <td class="px-6 py-4 font-medium text-white">${u.name} <div class="text-xs text-zinc-500 font-normal">${u.id}</div></td>
                                    <td class="px-6 py-4 text-zinc-300">${u.role}</td>
                                    <td class="px-6 py-4"><span class="px-2 py-1 bg-zinc-800 border border-zinc-700 rounded text-xs text-zinc-400">${u.dept}</span></td>
                                    <td class="px-6 py-4">
                                        <div class="flex items-center gap-2">
                                            <div class="w-16 h-1.5 bg-zinc-700 rounded-full overflow-hidden">
                                                <div class="h-full ${u.riskScore > 70 ? 'bg-green-500' : u.riskScore > 40 ? 'bg-yellow-500' : 'bg-red-500'}" style="width: ${u.riskScore}%"></div>
                                            </div>
                                            <span class="text-xs text-zinc-500">${u.riskScore}%</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 text-xs text-zinc-400">Active ${u.lastActive}</td>
                                    <td class="px-6 py-4 text-right">
                                        <button class="text-zinc-500 hover:text-white opacity-0 group-hover:opacity-100 transition"><i class="fa-solid fa-ellipsis"></i></button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `,

            inference: () => `
                <div class="max-w-3xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-2xl font-bold text-white">AI Skill Inference Engine</h2>
                        <p class="text-zinc-400 mt-2">Upload unstructured data to generate capability heatmaps.</p>
                    </div>

                    <div class="bg-surface border border-dashed border-zinc-700 rounded-xl p-12 text-center hover:border-primary hover:bg-primaryDim transition cursor-pointer group relative overflow-hidden" onclick="App.runInference()">
                        <div class="relative z-10">
                            <div class="w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition">
                                <i class="fa-solid fa-cloud-arrow-up text-2xl text-zinc-400 group-hover:text-primary"></i>
                            </div>
                            <h3 class="text-lg font-medium text-white">Drop Employee Data</h3>
                            <p class="text-zinc-500 text-sm mt-1">Supports PDF, CSV, JSON (Max 50MB)</p>
                        </div>
                        
                        <div id="inference-loader" class="hidden absolute inset-0 bg-surface flex flex-col items-center justify-center z-20">
                            <div class="text-primary font-mono text-sm mb-2">Analyzing Vector Embeddings...</div>
                            <div class="w-48 h-1 bg-zinc-800 rounded-full overflow-hidden">
                                <div class="h-full bg-primary animate-[progress_2s_ease-in-out_infinite]"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <h3 class="text-xs font-bold text-zinc-500 uppercase mb-4">Recent Analyses</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="p-4 border border-border rounded-lg bg-surface hover:border-zinc-600 transition cursor-pointer">
                                <div class="flex justify-between mb-2">
                                    <i class="fa-regular fa-file-pdf text-red-400"></i>
                                    <span class="text-xs text-green-400 font-mono">COMPLETED</span>
                                </div>
                                <div class="text-sm font-medium text-white">Backend_Team_Audit_Q4.pdf</div>
                                <div class="text-xs text-zinc-500 mt-1">24 Employees Processed</div>
                            </div>
                             <div class="p-4 border border-border rounded-lg bg-surface hover:border-zinc-600 transition cursor-pointer">
                                <div class="flex justify-between mb-2">
                                    <i class="fa-regular fa-file-excel text-green-600"></i>
                                    <span class="text-xs text-yellow-500 font-mono">PROCESSING</span>
                                </div>
                                <div class="text-sm font-medium text-white">Sales_Kickoff_Roster.csv</div>
                                <div class="text-xs text-zinc-500 mt-1">Estimating skills...</div>
                            </div>
                        </div>
                    </div>
                </div>
            `,

            settings: () => `
                <div class="max-w-4xl">
                    <h2 class="text-xl font-bold text-white mb-6">Platform Configuration</h2>
                    
                    <div class="bg-surface border border-border rounded-lg divide-y divide-border">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="font-medium text-white">API Access</h3>
                                    <p class="text-sm text-zinc-500">Manage programmable access to the DeltaPro Engine.</p>
                                </div>
                                <button class="text-xs bg-zinc-800 hover:bg-zinc-700 text-white px-3 py-1.5 rounded border border-zinc-700">Rotate Keys</button>
                            </div>
                            <div class="bg-black/50 p-3 rounded font-mono text-xs text-zinc-400 flex justify-between items-center group">
                                <span>dp_live_83749283748293...</span>
                                <i class="fa-regular fa-copy cursor-pointer hover:text-white"></i>
                            </div>
                        </div>

                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="font-medium text-white">Feature Flags</h3>
                                    <p class="text-sm text-zinc-500">Control beta features for your organization.</p>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-zinc-300">Advanced Risk Prediction (Beta)</span>
                                    <div class="w-10 h-5 bg-primary rounded-full relative cursor-pointer"><div class="absolute right-1 top-1 w-3 h-3 bg-white rounded-full"></div></div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-zinc-300">Global Talent Benchmarking</span>
                                    <div class="w-10 h-5 bg-zinc-700 rounded-full relative cursor-pointer"><div class="absolute left-1 top-1 w-3 h-3 bg-zinc-400 rounded-full"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `
        };

        // --- 3. CONTROLLER LOGIC ---
        const App = {
            init() {
                // Initialize Charts
                this.navigate('dashboard');
                
                // Keyboard Shortcuts
                document.addEventListener('keydown', (e) => {
                    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                        e.preventDefault();
                        Palette.toggle();
                    }
                    if (e.key === 'Escape') Palette.close();
                });
            },

            navigate(viewName) {
                // UI Update
                document.querySelectorAll('.sidebar-link').forEach(el => el.classList.remove('active'));
                event?.currentTarget?.classList.add('active'); // simplified for proto
                
                // Title Update
                const titles = { dashboard: 'Dashboard', directory: 'Talent Directory', inference: 'Inference Engine', settings: 'Settings' };
                document.getElementById('page-title').innerText = titles[viewName] || 'DeltaPro';
                
                // Render View
                const content = Views[viewName] ? Views[viewName]() : `<div class="p-10 text-zinc-500">View not implemented.</div>`;
                document.getElementById('app-view').innerHTML = content;

                if (viewName === 'dashboard') this.renderCharts();
            },

            runInference() {
                const loader = document.getElementById('inference-loader');
                loader.classList.remove('hidden');
                setTimeout(() => {
                    loader.classList.add('hidden');
                    alert("Analysis Complete: 12 new skills indexed.");
                }, 2000);
            },

            renderCharts() {
                const ctx = document.getElementById('mainChart');
                if (!ctx) return;
                
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Avg Skill Proficiency',
                            data: [65, 68, 72, 71, 75, 78],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true,
                            tension: 0.4
                        }, {
                            label: 'Market Baseline',
                            data: [60, 62, 64, 66, 68, 70],
                            borderColor: '#52525b',
                            borderDash: [5, 5],
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { grid: { color: '#27272a' } },
                            x: { grid: { display: false } }
                        }
                    }
                });
            }
        };

        const Palette = {
            toggle() {
                const el = document.getElementById('cmd-palette');
                el.classList.toggle('hidden');
            },
            close() {
                document.getElementById('cmd-palette').classList.add('hidden');
            }
        };

        // Start App
        App.init();

    </script>
    <style>
        @keyframes progress { 0% { width: 0%; margin-left: 0; } 50% { width: 100%; margin-left: 0; } 100% { width: 0%; margin-left: 100%; } }
    </style>
</body>
</html>
